<!doctype html>
<html data-ng-app="demoApp">
  <head>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-route.min.js" ></script>
  </head>
  <body >
	
	<div data-ng-view=""></div>
	
	<script>
	
		var demoApp = angular.module('demoApp',['ngRoute']);
		
		demoApp.factory('simpleFactory', function(){// can inject $http
			var customers = [
				{name: 'Dave Jones', city: 'Phoenix'},
				{name: 'Jamie Riley', city: 'Atlanta'},
				{name: 'Heedy Wahlin', city: 'Chandler'},
				{name: 'Thomas Winter', city: 'Seattle'}
			];
			
			var factory = {};
			factory.getCustomers = function(){
				return customers;
			};
			factory.postCustomer = function(customer){
				
			};
		});
		
		demoApp.controller('SimpleController',function ($scope, simpleFactory){
			$scope.customers = [];
			
			function init(){
				$scope.customers = simpleFactory.getCustomers();
			}
			
			$scope.addCustomer = function(){
				$scope.customers.push(
					{
						name: $scope.newCustomer.name,
						city: $scope.newCustomer.city
					}
				);
			}
		} );
		
		demoApp.config( function ($routeProvider){
			$routeProvider
				.when('/view1',{
						templateUrl: 'Partials/view1.htm',
						controller: 'SimpleController'
					})
				.when('/view2',	{
						templateUrl: 'Partials/view2.htm',
						controller:'SimpleController'
					})
				.otherwise({redirectTo: '/view1'})
				;
		});
		
	</script>
  </body>
</html>